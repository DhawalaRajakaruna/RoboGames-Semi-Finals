def flood_maze(target_x,target_y,flood_arr,setDirection,end_des,previous_direction=None):
    
    global maze_map, direction_map,mark_pos
    flood_array = flood_arr
    #temp_Direction = setDirection
    end_des = end_des
    if not (0 <= target_x < 20 and 0 <= target_y < 20):
        print("Out of bounds")
        return  # Out of bounds
    if flood_array[target_x][target_y]==end_des:
        return
    if mark_pos:
        flood_array[target_x][target_y] = 0
        mark_pos=False
    cellWalls = getWalls(target_x,target_y)  # Get sensor readings

    
    if cellWalls[0] == 0:  # down open
        print("down open")
        new_direction = 2
        temp = update_Floodposition(flood_array,new_direction,target_x,target_y)
        if (temp):
            flood_array[temp[0]][temp[1]] = flood_array[target_x][target_y]+1
            # setDirection=new_direction
            flood_maze(temp[0],temp[1],flood_array,new_direction,end_des,"DOWN")

    if cellWalls[1] == 0:  # Right open
        print("Right open")
        new_direction = 1
        temp = update_Floodposition(flood_array,new_direction,target_x,target_y)
        if (temp):
            flood_array[temp[0]][temp[1]] = flood_array[target_x][target_y]+1
            flood_maze(temp[0],temp[1],flood_array,new_direction,end_des,"RIGHT")

    if cellWalls[3] == 0:  # Left open
        print("Left open")
        new_direction = 3
        temp = update_Floodposition(flood_array,new_direction,target_x,target_y)
        if (temp):
            flood_array[temp[0]][temp[1]] = flood_array[target_x][target_y]+1
            # setDirection=new_direction
            flood_maze(temp[0],temp[1],flood_array,new_direction,end_des,"LEFT")
    
    if cellWalls[2] == 0:  # Up open
        print("up  open")
        new_direction = 0
       
        temp = update_Floodposition(flood_array,new_direction,target_x,target_y)
        
        if temp is not None:
            flood_array[temp[0]][temp[1]] = flood_array[target_x][target_y]+1
            # setDirection=new_direction
            flood_maze(temp[0],temp[1],flood_array,new_direction,end_des,"LEFT")